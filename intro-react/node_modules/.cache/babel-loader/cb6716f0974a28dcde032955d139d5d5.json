{"ast":null,"code":"export const NOTIF_WISHLIST_CHANGED = \"notif_wishlist_changed\";\nlet instance = null;\nlet observers = {};\n\nclass NotificationService {\n  constructor() {\n    this.postNotification = (notifName, data) => {\n      let obs = observers[notifName];\n\n      for (var i = 0; i < obs.length; i++) {\n        var obj = obs[i];\n        obj.callBack();\n      }\n    };\n\n    this.removeObserver = (observer, notfName) => {\n      var obs = observers[notifName];\n\n      if (obs) {\n        for (var i = 0; i < obs.length; i++) {\n          if (observer === obs[i].observer) {\n            obs.splice(i, 1);\n            observers[notifName] = obs;\n            break;\n          }\n        }\n      }\n    };\n\n    this.addObserver = (observer, notifName, callback) => {\n      let obs = observers[notifName];\n\n      if (!obs) {\n        observers[notifName] = [];\n      }\n\n      let obj = {\n        observer: observer,\n        callBack: callback\n      };\n      observers[notifName].push(obj);\n    };\n\n    if (!instance) {\n      instance = this;\n    }\n\n    return instance;\n  }\n\n}\n\nexport default NotificationService;","map":{"version":3,"sources":["/mnt/5D94142421FE8A48/Documentos/Programação/Udemy/React/intro-react/src/services/notification-service.js"],"names":["NOTIF_WISHLIST_CHANGED","instance","observers","NotificationService","constructor","postNotification","notifName","data","obs","i","length","obj","callBack","removeObserver","observer","notfName","splice","addObserver","callback","push"],"mappings":"AAAA,OAAO,MAAMA,sBAAsB,GAAG,wBAA/B;AAEP,IAAIC,QAAQ,GAAG,IAAf;AACA,IAAIC,SAAS,GAAG,EAAhB;;AAEA,MAAMC,mBAAN,CAA0B;AACtBC,EAAAA,WAAW,GAAG;AAAA,SAOdC,gBAPc,GAOK,CAACC,SAAD,EAAYC,IAAZ,KAAqB;AACpC,UAAIC,GAAG,GAAGN,SAAS,CAACI,SAAD,CAAnB;;AACA,WAAI,IAAIG,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,GAAG,CAACE,MAAvB,EAA+BD,CAAC,EAAhC,EAAoC;AAChC,YAAIE,GAAG,GAAGH,GAAG,CAACC,CAAD,CAAb;AACAE,QAAAA,GAAG,CAACC,QAAJ;AACH;AACJ,KAba;;AAAA,SAedC,cAfc,GAeG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACrC,UAAIP,GAAG,GAAGN,SAAS,CAACI,SAAD,CAAnB;;AACA,UAAGE,GAAH,EAAQ;AACJ,aAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,GAAG,CAACE,MAAvB,EAA+BD,CAAC,EAAhC,EAAoC;AAChC,cAAGK,QAAQ,KAAKN,GAAG,CAACC,CAAD,CAAH,CAAOK,QAAvB,EAAiC;AAC7BN,YAAAA,GAAG,CAACQ,MAAJ,CAAWP,CAAX,EAAc,CAAd;AACAP,YAAAA,SAAS,CAACI,SAAD,CAAT,GAAuBE,GAAvB;AACA;AACH;AACJ;AACJ;AACJ,KA1Ba;;AAAA,SA4BdS,WA5Bc,GA4BA,CAACH,QAAD,EAAWR,SAAX,EAAsBY,QAAtB,KAAmC;AAC7C,UAAIV,GAAG,GAAGN,SAAS,CAACI,SAAD,CAAnB;;AAEA,UAAG,CAACE,GAAJ,EAAS;AACLN,QAAAA,SAAS,CAACI,SAAD,CAAT,GAAuB,EAAvB;AACH;;AAED,UAAIK,GAAG,GAAG;AAACG,QAAAA,QAAQ,EAAEA,QAAX;AAAqBF,QAAAA,QAAQ,EAAEM;AAA/B,OAAV;AACAhB,MAAAA,SAAS,CAACI,SAAD,CAAT,CAAqBa,IAArB,CAA0BR,GAA1B;AACH,KArCa;;AACV,QAAG,CAACV,QAAJ,EAAc;AACVA,MAAAA,QAAQ,GAAG,IAAX;AACH;;AACD,WAAOA,QAAP;AACH;;AANqB;;AAyC1B,eAAeE,mBAAf","sourcesContent":["export const NOTIF_WISHLIST_CHANGED = \"notif_wishlist_changed\";\n\nlet instance = null;\nlet observers = {};\n\nclass NotificationService {\n    constructor() {\n        if(!instance) {\n            instance = this;\n        }\n        return instance;\n    }\n\n    postNotification = (notifName, data) => {\n        let obs = observers[notifName];\n        for(var i = 0; i < obs.length; i++) {\n            var obj = obs[i];\n            obj.callBack();\n        }\n    }\n\n    removeObserver = (observer, notfName) => {\n        var obs = observers[notifName];\n        if(obs) {\n            for(var i = 0; i < obs.length; i++) {\n                if(observer === obs[i].observer) {\n                    obs.splice(i, 1);\n                    observers[notifName] = obs; \n                    break;\n                }\n            }\n        }\n    }\n\n    addObserver = (observer, notifName, callback) => {\n        let obs = observers[notifName];\n\n        if(!obs) {\n            observers[notifName] = [];\n        }\n\n        let obj = {observer: observer, callBack: callback};\n        observers[notifName].push(obj);\n    }\n}\n\nexport default NotificationService;"]},"metadata":{},"sourceType":"module"}