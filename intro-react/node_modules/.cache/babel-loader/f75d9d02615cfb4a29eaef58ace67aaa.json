{"ast":null,"code":"var _jsxFileName = \"/mnt/5D94142421FE8A48/Documentos/Programa\\xE7\\xE3o/Udemy/React/intro-react/src/product/product.js\";\nimport React, { Component } from 'react';\nimport './product.css';\nimport DataService from \"../services/data-service\";\nimport NotificationService, { NOTIF_WISHLIST_CHANGED } from \"../services/notification-service\";\nlet ds = new DataService();\nlet ns = new NotificationService();\n\nclass Product extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      ns.addObserver(NOTIF_WISHLIST_CHANGED, this, this.onWishlistChanged);\n    };\n\n    this.componentWillMount = () => {\n      ns.removeObserver(this, NOTIF_WISHLIST_CHANGED);\n    };\n\n    this.onWishlistChanged = newWishlist => {\n      this.setState({\n        onWishlist: ds.itemOnWishlist(this.props.product)\n      });\n    };\n\n    this.onButtonClicked = () => {\n      if (this.state.onWishlist) ds.removeItem(this.props.product);else ds.addItem(this.props.product);\n    };\n\n    this.state = {\n      onWishlist: ds.itemOnWishlist()\n    };\n    this.onButtonClicked = this.onButtonClicked.bind(this);\n    this.onWishlistChanged = this.onWishlistChanged.bind(this);\n  }\n\n  render() {\n    var btnClass;\n    if (this.state.onWishlist) btnClass = \"btn btn-danger\";else btnClass = \"btn btn-primary\";\n    return React.createElement(\"div\", {\n      className: \"card product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"card-img-top\",\n      alt: \"Product\",\n      src: this.props.product.imgUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"card-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, this.props.product.title), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Price: $\", this.props.product.price), React.createElement(\"a\", {\n      href: \"#\",\n      onClick: () => this.onButtonClicked(),\n      className: btnClass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, this.state.onWishlist ? \"Remove from Wishlist\" : \"Add to Wishlist\")));\n  }\n\n}\n\nexport default Product;","map":{"version":3,"sources":["/mnt/5D94142421FE8A48/Documentos/Programação/Udemy/React/intro-react/src/product/product.js"],"names":["React","Component","DataService","NotificationService","NOTIF_WISHLIST_CHANGED","ds","ns","Product","constructor","props","componentDidMount","addObserver","onWishlistChanged","componentWillMount","removeObserver","newWishlist","setState","onWishlist","itemOnWishlist","product","onButtonClicked","state","removeItem","addItem","bind","render","btnClass","imgUrl","title","price"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,eAAP;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,mBAAP,IAA6BC,sBAA7B,QAA0D,kCAA1D;AAEA,IAAIC,EAAE,GAAG,IAAIH,WAAJ,EAAT;AACA,IAAII,EAAE,GAAG,IAAIH,mBAAJ,EAAT;;AAEA,MAAMI,OAAN,SAAsBN,SAAtB,CAAgC;AAE5BO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SASnBC,iBATmB,GASC,MAAM;AACtBJ,MAAAA,EAAE,CAACK,WAAH,CAAeP,sBAAf,EAAuC,IAAvC,EAA6C,KAAKQ,iBAAlD;AAEH,KAZkB;;AAAA,SAcnBC,kBAdmB,GAcE,MAAM;AACvBP,MAAAA,EAAE,CAACQ,cAAH,CAAkB,IAAlB,EAAwBV,sBAAxB;AACH,KAhBkB;;AAAA,SAkBnBQ,iBAlBmB,GAkBEG,WAAD,IAAiB;AACjC,WAAKC,QAAL,CAAc;AAACC,QAAAA,UAAU,EAAEZ,EAAE,CAACa,cAAH,CAAkB,KAAKT,KAAL,CAAWU,OAA7B;AAAb,OAAd;AACH,KApBkB;;AAAA,SAsBnBC,eAtBmB,GAsBD,MAAM;AACpB,UAAG,KAAKC,KAAL,CAAWJ,UAAd,EACIZ,EAAE,CAACiB,UAAH,CAAc,KAAKb,KAAL,CAAWU,OAAzB,EADJ,KAGId,EAAE,CAACkB,OAAH,CAAW,KAAKd,KAAL,CAAWU,OAAtB;AACP,KA3BkB;;AAGf,SAAKE,KAAL,GAAa;AAACJ,MAAAA,UAAU,EAAEZ,EAAE,CAACa,cAAH;AAAb,KAAb;AAEA,SAAKE,eAAL,GAAuB,KAAKA,eAAL,CAAqBI,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKZ,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBY,IAAvB,CAA4B,IAA5B,CAAzB;AACH;;AAsBDC,EAAAA,MAAM,GAAG;AACL,QAAIC,QAAJ;AAEA,QAAG,KAAKL,KAAL,CAAWJ,UAAd,EACIS,QAAQ,GAAG,gBAAX,CADJ,KAGIA,QAAQ,GAAG,iBAAX;AAEJ,WACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAA8B,MAAA,GAAG,EAAC,SAAlC;AAA4C,MAAA,GAAG,EAAE,KAAKjB,KAAL,CAAWU,OAAX,CAAmBQ,MAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B,KAAKlB,KAAL,CAAWU,OAAX,CAAmBS,KAA/C,CADJ,EAEI;AAAG,MAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkC,KAAKnB,KAAL,CAAWU,OAAX,CAAmBU,KAArD,CAFJ,EAGI;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKT,eAAL,EAA3B;AAAkD,MAAA,SAAS,EAAEM,QAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwE,KAAKL,KAAL,CAAWJ,UAAX,GAAwB,sBAAxB,GAAiD,iBAAzH,CAHJ,CAFJ,CADJ;AAWH;;AAlD2B;;AAqDhC,eAAeV,OAAf","sourcesContent":["import React, {Component} from 'react';\nimport './product.css';\nimport DataService from \"../services/data-service\";\nimport NotificationService, {NOTIF_WISHLIST_CHANGED} from \"../services/notification-service\";\n\nlet ds = new DataService();\nlet ns = new NotificationService();\n\nclass Product extends Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = {onWishlist: ds.itemOnWishlist()};\n\n        this.onButtonClicked = this.onButtonClicked.bind(this);\n        this.onWishlistChanged = this.onWishlistChanged.bind(this);\n    }\n    \n    componentDidMount = () => {\n        ns.addObserver(NOTIF_WISHLIST_CHANGED, this, this.onWishlistChanged);\n\n    }\n\n    componentWillMount = () => {\n        ns.removeObserver(this, NOTIF_WISHLIST_CHANGED);\n    }\n\n    onWishlistChanged = (newWishlist) => {\n        this.setState({onWishlist: ds.itemOnWishlist(this.props.product)});\n    }\n\n    onButtonClicked = () => {\n        if(this.state.onWishlist)\n            ds.removeItem(this.props.product);\n        else\n            ds.addItem(this.props.product);\n    }\n    \n    render() {\n        var btnClass;\n\n        if(this.state.onWishlist) \n            btnClass = \"btn btn-danger\";\n        else\n            btnClass = \"btn btn-primary\";\n\n        return (\n            <div className=\"card product\">\n                <img className=\"card-img-top\" alt=\"Product\" src={this.props.product.imgUrl}></img>\n                <div className=\"card-block\">\n                    <h4 className=\"card-title\">{this.props.product.title}</h4>\n                    <p className=\"card-text\">Price: ${this.props.product.price}</p>\n                    <a href=\"#\" onClick={() => this.onButtonClicked()}className={btnClass}>{this.state.onWishlist ? \"Remove from Wishlist\" : \"Add to Wishlist\"}</a>\n                </div>\n            </div>\n        );\n\n    }\n}\n\nexport default Product;"]},"metadata":{},"sourceType":"module"}