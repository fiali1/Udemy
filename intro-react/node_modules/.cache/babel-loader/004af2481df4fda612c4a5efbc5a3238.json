{"ast":null,"code":"export const NOTIF_WISHLIST_CHANGED = \"notif_wishlist_changed\";\nlet observers = {};\nlet instance = null;\n\nclass NotificationService {\n  constructor() {\n    this.postNotification = (notifName, data) => {\n      let obs = observers[notifName];\n\n      for (var i = 0; i < obs.length; i++) {\n        var obj = obs[i];\n        obj.callBack();\n      }\n    };\n\n    this.removeObserver = (observer, notifName) => {\n      var obs = observers[notifName];\n\n      if (obs) {\n        for (var i = 0; i < obs.length; i++) {\n          if (observer === obs[i].observer) {\n            obs.splice(i, 1);\n            observers[notifName] = obs;\n            break;\n          }\n        }\n      }\n    };\n\n    this.addObserver = (observer, notifName, callBack) => {\n      let obs = observers[notifName];\n\n      if (!obs) {\n        observers[notifName] = [];\n      }\n\n      let obj = {\n        observer: observer,\n        callBack: callback\n      };\n      observers[notifName].push(obj);\n    };\n\n    if (!instance) {\n      instance = this;\n    }\n\n    return instance;\n  }\n\n}\n\nexport default NotificationService;","map":{"version":3,"sources":["/mnt/5D94142421FE8A48/Documentos/Programação/Udemy/React/intro-react/src/services/notification-service.js"],"names":["NOTIF_WISHLIST_CHANGED","observers","instance","NotificationService","constructor","postNotification","notifName","data","obs","i","length","obj","callBack","removeObserver","observer","splice","addObserver","callback","push"],"mappings":"AAAA,OAAO,MAAMA,sBAAsB,GAAG,wBAA/B;AAEP,IAAIC,SAAS,GAAG,EAAhB;AACA,IAAIC,QAAQ,GAAG,IAAf;;AAEA,MAAMC,mBAAN,CAA0B;AACtBC,EAAAA,WAAW,GAAG;AAAA,SAOdC,gBAPc,GAOK,CAACC,SAAD,EAAYC,IAAZ,KAAqB;AACpC,UAAIC,GAAG,GAAGP,SAAS,CAACK,SAAD,CAAnB;;AACA,WAAI,IAAIG,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,GAAG,CAACE,MAAvB,EAA+BD,CAAC,EAAhC,EAAoC;AAChC,YAAIE,GAAG,GAAGH,GAAG,CAACC,CAAD,CAAb;AACAE,QAAAA,GAAG,CAACC,QAAJ;AACH;AACJ,KAba;;AAAA,SAedC,cAfc,GAeG,CAACC,QAAD,EAAWR,SAAX,KAAyB;AACtC,UAAIE,GAAG,GAAGP,SAAS,CAACK,SAAD,CAAnB;;AAEA,UAAGE,GAAH,EAAQ;AACJ,aAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,GAAG,CAACE,MAAvB,EAA+BD,CAAC,EAAhC,EAAoC;AAChC,cAAGK,QAAQ,KAAKN,GAAG,CAACC,CAAD,CAAH,CAAOK,QAAvB,EAAiC;AAC7BN,YAAAA,GAAG,CAACO,MAAJ,CAAWN,CAAX,EAAc,CAAd;AACAR,YAAAA,SAAS,CAACK,SAAD,CAAT,GAAuBE,GAAvB;AACA;AACH;AACJ;AACJ;AACJ,KA3Ba;;AAAA,SA6BdQ,WA7Bc,GA6BA,CAACF,QAAD,EAAWR,SAAX,EAAsBM,QAAtB,KAAmC;AAC7C,UAAIJ,GAAG,GAAGP,SAAS,CAACK,SAAD,CAAnB;;AAEA,UAAG,CAACE,GAAJ,EAAS;AACLP,QAAAA,SAAS,CAACK,SAAD,CAAT,GAAuB,EAAvB;AACH;;AAED,UAAIK,GAAG,GAAG;AAACG,QAAAA,QAAQ,EAAEA,QAAX;AAAqBF,QAAAA,QAAQ,EAAEK;AAA/B,OAAV;AACAhB,MAAAA,SAAS,CAACK,SAAD,CAAT,CAAqBY,IAArB,CAA0BP,GAA1B;AACH,KAtCa;;AACV,QAAG,CAACT,QAAJ,EAAc;AACVA,MAAAA,QAAQ,GAAG,IAAX;AACH;;AACD,WAAOA,QAAP;AACH;;AANqB;;AA0C1B,eAAeC,mBAAf","sourcesContent":["export const NOTIF_WISHLIST_CHANGED = \"notif_wishlist_changed\";\n\nlet observers = {};\nlet instance = null;\n\nclass NotificationService {\n    constructor() {\n        if(!instance) {\n            instance = this;\n        }\n        return instance;\n    }\n\n    postNotification = (notifName, data) => {\n        let obs = observers[notifName];\n        for(var i = 0; i < obs.length; i++) {\n            var obj = obs[i];\n            obj.callBack();\n        }\n    }\n\n    removeObserver = (observer, notifName) => {\n        var obs = observers[notifName];\n\n        if(obs) {\n            for(var i = 0; i < obs.length; i++) {\n                if(observer === obs[i].observer) {\n                    obs.splice(i, 1);\n                    observers[notifName] = obs; \n                    break;\n                }\n            }\n        }\n    }\n\n    addObserver = (observer, notifName, callBack) => {\n        let obs = observers[notifName];\n\n        if(!obs) {\n            observers[notifName] = [];\n        }\n\n        let obj = {observer: observer, callBack: callback};\n        observers[notifName].push(obj);\n    }\n}\n\nexport default NotificationService;"]},"metadata":{},"sourceType":"module"}